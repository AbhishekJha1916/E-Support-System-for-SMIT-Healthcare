<link rel="stylesheet" href="/css/doctor-patient-profile.css">
<div class="main-div">
    <div class="patient-list-div">
        <div class="pl-heading">PATIENTS</div>
        <section id="doc-list">
            <% for(let patient of patient_list){ %>
                <div class="seperation-doc"></div>
                <a href="/doctor/profile_patient/<%= patient._id %>">
                    <div class="doc-id">
                        <img src="/images/patient-n.png" alt="Doctor " class="image">
                        <div class="doc-info">
                            <h1 class="doc-name"><%= patient.username %></h1>
                            <h3 class="doc-type"></h3>
                        </div>
                    </div>
                </a>
            <% } %>
        </section>
    </div>
    <div class="patient-detail-div">
        <div class="patient-detail-div-content">
            <div class="profile-heading">
                <img src="/images/patient-n.png" alt="Doctor " class="profile-heading-image">
            </div>
            <div class="button-profile-set">
                <button class="button-profile" id="b1" onclick="changetab(this.value, this.id)" value="patient-content">Patient
                    Info</button>
                <div class="vertical-division"></div>
                <button class="button-profile" id="b2" onclick="changetab(this.value, this.id)"
                    value="patient-visits">Visits</button>
                <div class="vertical-division"></div>
                <button class="button-profile" id="b3" onclick="changetab(this.value, this.id)"
                    value="patient-labs">Labs</button>
                <div class="vertical-division"></div>
                <button class="button-profile" id="b4" onclick="changetab(this.value, this.id)"
                    value="patient-prescriptions">Prescriptions</button>
            </div>  
            <div id="patient-content">
                <div class="patient-content-heading">General Information</div>
                <div class="seperation-patient-content"></div>
                <div class="patient-content-part">
                    <div class="patient-content-left">Name</div>
                    <div class="patient-content-right"><%= patient.username %></div>
                </div>
                <div class="seperation-patient-content"></div>
                <div class="patient-content-part">
                    <div class="patient-content-left">Age</div>
                    <div class="patient-content-right"><%= patient.age %></div>
                </div>
                <div class="seperation-patient-content"></div>
                <div class="patient-content-part">
                    <div class="patient-content-left">Sex</div>
                    <div class="patient-content-right"><%= patient.gender %></div>
                </div>
                <div class="seperation-patient-content"></div>
                <div class="patient-content-heading">Contact Information</div>
                <div class="seperation-patient-content"></div>
                <div class="patient-content-part">
                    <div class="patient-content-left">Contact number</div>
                    <div class="patient-content-right">Unavailable</div>
                </div>
                <div class="seperation-patient-content"></div>
                <div class="patient-content-part">
                    <div class="patient-content-left">E-mail</div>
                    <div class="patient-content-right"><%= patient.email %></div>
                </div>
                <div class="seperation-patient-content"></div>
            </div>
            <div id="patient-visits">
                <div class="patient-content-heading">Upcoming Appointments</div>
                <% var i = 0; %>
                <% for(let appointment of appointments){ %>
                    <% i++ %>
                    <div class="patient-content-heading">Appointment <%=i%></div>
                    <div class="seperation-patient-content"></div>
                    <div class="patient-content-part">
                        <div class="patient-content-left">Name</div>
                        <div class="patient-content-right"><%= appointment.patient %></div>
                    </div>
                    
                    <div class="seperation-patient-content"></div>
                    <div class="patient-content-part">
                        <div class="patient-content-left">Day</div>
                        <div class="patient-content-right"><%= appointment.day %></div>
                    </div>
                    
                    <div class="seperation-patient-content"></div>
                    <div class="patient-content-part">
                        <div class="patient-content-left">Time</div>
                        <div class="patient-content-right"><%= appointment.time %></div>
                    </div>
                <% } %>
            </div>
            <div id="patient-labs">Labs: Coming soon!</div>
            <div id="patient-prescriptions">
                <form action="/doctor/create-prescription/<%= patient._id %>" method="POST">
                    
                    <div class="department-category-field">
                        <label for="hostpital_department" class="department-category-labels">Hospital Department</label>
                        <input type="text" class="department-category-inputs" id="hostpital_department" name="hostpital_department" placeholder="Hospital Department"><br>
                    </div>
                    <div class="department-category-field">
                        <label for="category" class="department-category-labels">Category</label>
                        <input type="text" class="department-category-inputs" id="category" name="category" placeholder="Category">
                    </div>

                    <div id="complaint-section">
                        <label for="complaint">Chief Compaint:</label>
                        <textarea id="complaint" name="complaint" rows="4" cols="50"></textarea>
                    </div>

                    <div id="diagonictic-test-field">
                        <label>Diagonictic Tests:</label>
                        <div id="diagonictic-test-input-field">
                            <div class="diagonictic-test-input-section">
                                <input type="radio" value="MRI" id="MRI" name="test"><label class="diagonictic-test-field-labels" for="MRI">MRI</label>
                            </div>
                            <div class="diagonictic-test-input-section">
                                <input type="radio" value="ultrasound" id="ultrasound" name="test"><label class="diagonictic-test-field-labels" for="ultrasound">Ultrasound</label>  
                            </div>
                            <div class="diagonictic-test-input-section">
                                <input type="radio" value="bloodpressure" id="bloodpressure" name="test"><label class="diagonictic-test-field-labels" for="bloodpressure">Blood Pressure</label>  
                            </div>
                        </div>
                    </div>

                    <div id="medicine-details-field">
                        <label>Medicines:</label><br>
                        <div id="medicine-details-input">
                            <div class="medicine-details-input-section">
                                <input type="text" id="prescription-drug-name" class="medicine-input" name="med_name1" placeholder="Drug name">
                                <input type="text" id="prescription-dosage" class="medicine-input" name="med_dosage1" placeholder="Dosage">
                                <input min="0" type="number" id="prescription-frequency" class="medicine-input" name="med_frequency1" placeholder="Frequency">
                                <input min="0" type="number" id="prescription-days" class="medicine-input" name="med_days1" placeholder="No. of days">
                                <input min="0" type="number" id="prescription-quantity" class="medicine-input" name="med_quantity1" placeholder="Quantity">
                                <input type="text" id="prescription-instruction" class="medicine-input" name="med_instruction1" placeholder="Instruction">
                            </div>
                        </div>
                        <div id="prescription-buttons-section">
                            <button onclick="addMedicineInputField()" type="button" id="addMedicineInput">+</button>
                            <input type="submit" value="Submit">
                        </div>

                    </div>




                </form>
            </div>
        </div>
    </div>
</div>

<script src="/javascript/doctor-patient-profile.js"></script>